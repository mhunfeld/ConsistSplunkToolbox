<dashboard script="extensions/inputs/examples/inputfield_main.js" stylesheet="extensions/inputs/examples/inutfield_main.css">
  <label>inputfields</label>
  <description>Extendable inputfields</description>

  <row>
    <panel>
      <title>Smart DefaultValue</title>
      <input id="field1" type="multiselect" token="field1">
        <label>Field 1</label>
        <choice value="value1">Wert 1</choice>
        <choice value="value2">Wert 2</choice>
        <choice value="value3">Wert 3</choice>
        <choice value="value4">Wert 4</choice>
        <default>value1</default>
      </input>
    </panel>
    <panel>
      <title>sortable</title>
      <input id="field2" type="multiselect" token="field2">
        <label>Field 2</label>
        <choice value="value1">Wert 1</choice>
        <choice value="value2">Wert 2</choice>
        <choice value="value3">Wert 3</choice>
        <choice value="value4">Wert 4</choice>
        <default>value1</default>
      </input>
    </panel>
    <panel>
      <title>Copy To Clipboard</title>
      <input id="field3" type="multiselect" token="field3">
        <label>Field 3</label>
        <choice value="value1">Wert 1</choice>
        <choice value="value2">Wert 2</choice>
        <choice value="value3">Wert 3</choice>
        <choice value="value4">Wert 4</choice>
        <default>value1</default>
      </input>
    </panel>
  </row>
   <row>
    <panel>
      <title>Live Search</title>
      <search id="regionSearch">
        <query>
          | inputlookup countryList.csv | fields region
        </query>
      </search>
      <input id="region" type="multiselect" token="region">
        <label>Kontinent</label>
        <fieldForValue>region</fieldForValue>
        <fieldForLabel>region</fieldForLabel>
        <prefix>(</prefix>
        <suffix>)</suffix>
         <valuePrefix>region="</valuePrefix>
        <valueSuffix>"</valueSuffix>
        <delimiter> OR </delimiter>
        <choice value="*">Alle</choice>
        <default>"*"</default>
      </input>
    </panel>
     <panel>
      <search id="countrySearch">
        <query>
          | inputlookup countryList.csv | rename "country-code" as countryCode| fields region name countryCode
        </query>
      </search>
      <!--TODO: leider müssen aktuell fieldForValue und fieldForLabel gleich sein oder inhalte von fieldForLabel müssen sich auch in fieldForValue finden lassen
      in zukunft sollte die extension aber damit umgehen können. ggf. mit extra konfiguration...
      -->
      <input id="country" type="multiselect" token="country">
        <label>Kontinent</label>
        <fieldForValue>name</fieldForValue>
        <fieldForLabel>name</fieldForLabel>
         <prefix>(</prefix>
        <suffix>)</suffix>
         <valuePrefix>name="</valuePrefix>
        <valueSuffix>"</valueSuffix>
        <delimiter> OR </delimiter>
        <choice value="*">Alle</choice>
        <default>*</default>
      </input>
    </panel>
  </row>
  <row>
    <panel>
      <title>Live Search2</title>
      <input id="region2" type="multiselect" token="region2">
        <search id="regionSearch2">
          <!--<query>
            | inputlookup countryList.csv | search $region2$ name="$currentValueregion$" | dedup region | eval sortKey = if(in(region, $form.region2$), 0, 1) | sort sortKey | fields region
          </query>-->
          <query>
            | inputlookup countryList.csv | search $region2|withoutDefault$ OR region="*$currentValueregion2$*" | dedup region | fields region
          </query>
        </search>
        <label>Kontinent</label>
        <fieldForValue>region</fieldForValue>
        <fieldForLabel>region</fieldForLabel>
        <prefix>(</prefix>
        <suffix>)</suffix>
         <valuePrefix>region="</valuePrefix>
        <valueSuffix>"</valueSuffix>
        <delimiter> OR </delimiter>
        <choice value="*">Alle</choice>
        <default>*</default>
      </input>
    </panel>
     <panel>
      <!--TODO: leider müssen aktuell fieldForValue und fieldForLabel gleich sein oder inhalte von fieldForLabel müssen sich auch in fieldForValue finden lassen
      in zukunft sollte die extension aber damit umgehen können. ggf. mit extra konfiguration...
      -->
      <input id="country2" type="multiselect" token="country2">
      <search id="countrySearch2">
        <query>
          | inputlookup countryList.csv | search $region2$ AND $country2|withoutDefault$ OR name="*$currentValuecountry2$*" | rename "country-code" as countryCode | fields name | head 10
        </query>
      </search>
        <label>Kontinent</label>
        <fieldForValue>name</fieldForValue>
        <fieldForLabel>name</fieldForLabel>
         <prefix>(</prefix>
        <suffix>)</suffix>
         <valuePrefix>name="</valuePrefix>
        <valueSuffix>"</valueSuffix>
        <delimiter> OR </delimiter>
        <choice value="*">Alle</choice>
        <default>*</default>
      </input>
    </panel>
  </row>
  
</dashboard>